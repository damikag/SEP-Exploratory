<!DOCTYPE html>
<html lang="en">
	<head>
    <meta charset="utf-8">
    <link rel="icon" href="images/logo2.png" />
		<title>White Board</title>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A Collabrative White board">
    <meta name="author" content="devan">
		  <style type="text/css">
      #container { position: relative; }
      #container{
        width: 1000px;
        height: 500px;
        background-color: #fff;
        border-radius: 5px;
      }
      body{
        background: rgb(55,55,55) !important;
      }
      #imageView { border: 1px solid #000; }
      #imageTemp { position: absolute; top: 1px; left: 1px; }
      canvas {
        border-radius: 5px;
        cursor: url(../img/pen.png), crosshair;
    }
    #text_tool {
    position: absolute;
    border: 1px dashed black;
    outline: 0;
    z-index:1000 !important;
    display: none;
    overflow: hidden;
    white-space: nowrap;
}
.container .btn.btn-sm{
    background: #06f;
    box-shadow: 0 3px 0 0 rgba(0, 0, 0, 0.5);
    color: #fff;
    outline: none;
    cursor: pointer;
    text-shadow: 0 1px #06f;
    display: inline-block;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    padding: 5px 15px;
    margin-right: 5px;
}
.container .btn.btn-sm:active{
   background: #06f; 
}
label{
    color: #fff;
}
    </style>
    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/left-menu.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet" >

    <script>
      // const userData = "<%= userData %>";
      const roomName = "<%= roomName %>";
      var userData = {
            id: "<%= userData.id%>",
            name: "<%= userData.name%>",
            email: "<%= userData.email%>",
            token: "<%= userData.token%>",
          }
    </script>    
	</head>
    
  <body >

    <!-- top navbar -->
    <nav class="navbar fixed-top navbar-dark bg-primary" style="margin-bottom: 0px; ">
      <img src="images/logo.png" style="height: 20%;width: 20%;margin: 10px 10px 10px 110px; ">
    </nav>

    <!-- secondary navbar -->
    <nav class="navbar navbar-light" style="background-color: #fff; ">
      <a class="navbar-brand" href="#" style="margin-left: 110px; color: #000;">
        Collaborative White-Board
      </a>  
      <div style="display: flex; flex-direction: row; justify-content: flex-end;">
        <a href="http://localhost:3000/"> <button type="button" class="btn btn-info btn-md" style="margin:10px; ">HOME</button></a>
        <button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#myModal" style="margin:10px">MEMBERS</button>
        <button type="button" class="btn btn-info btn-md" id= "download-canvas" style="margin: 10px">DOWNLOAD</button>
        <form action="/leave" method="POST">
          <!-- <input value="<%= userData %>" style="display: none;"> -->
          <button type="submit" class="btn btn-info btn-md" id= "leave-room" style="margin: 10px 150px 10px 10px">LEAVE ROOM</button>
        </form>
      </div>
    </nav>


    

	<div class="container" > 
    <div id="room-container"></div>

    <!-- tool bar  -->
    <div class="icon-bar" style="margin: auto; display: flex; flex-direction: row; justify-content: space-around; flex-wrap: wrap;">
        <button type="button" class="btn btn-warning btn-sm" id="pencil-button" value="pencil" style="margin-left: 10px;">Pencil</button>
        <button type="button" class="btn btn-warning btn-sm" value="rect" id="rect-button">Rectangle</button>
        <button type="button" class="btn btn-warning btn-sm" value="circle" id="circle-button">Circle</button>
        <button type="button" class="btn btn-warning btn-sm" value="ellipse" id="ellipse-button">Ellipse</button>
        <button type="button" class="btn btn-warning btn-sm" value="line" id="line-button">Line</button>
        <button type="button" class="btn btn-warning btn-sm" value="text" id="text-button">Text</button>
        <button type="button" class="btn btn-warning btn-sm" id="clear-all">Clear All</button>
        <!-- color picker  -->
        <input id="colour-picker" value="#000000" style="width:80px;" class="jscolor {width:243, height:150, position:'right',
    borderColor:'#FFF', insetColor:'#FFF', backgroundColor:'#666'}">
    
        <!-- pencil thickness picker  -->
        <span class="form-group" style="width: 90px;display: inline-block; margin-top: 10px;">
          <label for="line-Width">Thickness: </label>
          <select class="form-control" id="line-Width">
            <option>2</option>
            <option>4</option>
            <option>6</option>
            <option>8</option>
            <option>10</option>
            <option>12</option>
            <option>14</option>
            <option>36</option>
          </select>
        </span>

        <!-- fornt picker  -->
         <span class="form-group" style="width: 130px;display: inline-block; margin-top: 10px;">
          <label for="draw-text-font-family">Font: </label>
          <select class="form-control" id="draw-text-font-family">
            <option value="Arial">Arial</option>
            <option value="Verdana" selected>Verdana</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Courier New">Courier New</option>
            <option value="serif">serif</option>
            <option value="sans-serif">sans-serif</option>
          </select>
        </span>

        <!-- font size picker  -->
        <span class="form-group" style="width: 90px;display: inline-block; margin-top: 10px;">
          <label for="draw-text-font-size">Font Size: </label>
          <select class="form-control" id="draw-text-font-size">
            <option value="16">16 Px</option>
            <option value="18">18 Px</option>
            <option value="20">20 Px</option>
            <option value="22">22 Px</option>
            <option value="24">24 Px</option>
            <option value="26">26 Px</option>
            <option value="28">28 Px</option>
            <option value="30">30 Px</option>
            <option value="32" selected>32 Px</option>
            <option value="34">34 Px</option>
            <option value="36">36 Px</option>
            <option value="38">38 Px</option>
            <option value="40">40 Px</option>
          </select>
        </span>
        </p>

      </div>

        <!-- canvas  -->
        <div id="container" style="margin: auto;">
          <canvas id="imageView" width="1000" height="500">
            <p>Unfortunately, your browser is currently unsupported by our web
            application.  We are sorry for the inconvenience. Please use one of the
            supported browsers listed below, or draw the image you want using an
            offline tool.</p>
            <p>Supported browsers: <a href="http://www.opera.com">Opera</a>, <a
              href="http://www.mozilla.com">Firefox</a>, <a
              href="http://www.apple.com/safari">Safari</a>, and <a
              href="http://www.konqueror.org">Konqueror</a>.</p>
          </canvas>
        </div>
    </div>

  <!-- collaborators -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header" style="background-color: #06f;">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Online Users</h4>
        </div>
        <div class="modal-body">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>#</th>
                <th>User Name</th>
                <th>Email</th>
              </tr>
            </thead>
            <tbody id="tbody-id">                  
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
    
<!-- Script files -->
        
        <script src='jquery.min.js'></script>
        <script src="bootstrap/js/bootstrap.min.js"></script>
        <script src="jscolor/jscolor.min.js"></script>
        <script src="/socket.io/socket.io.js"></script>
		    <script src="canvas.js"></script> 
		<!-- <script src="canvas-backup-latest-v1.js"></script> -->

     <script type="text/javascript">
      
      $(document).ready(function(){
          var board_url = window.location.href;
          $('.linkToBoard').attr("href",board_url);
      });
    </script>

	</body>
</html>